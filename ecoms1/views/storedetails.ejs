<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Store Stock</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-K7U7pm0htdFy4XZKoPIdRnTSjFmMhj1zV9LzmZv5wS+9hSJQVgdE/KdS+1aFqu4t9eDvWGytiufhsRY5Itskag==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=refresh" />
  <style>

    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    .button-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin: 20px;
        gap: 10px;
        white-space: nowrap;
    }
    
    .button-row h1 {
        flex: 1;
        text-align: center;
        margin: 0;
        font-size: 30px;
        font-weight: bolder;
        margin-right: 50px;
    }
    
    .button-row a,
    .button-row button {
        padding: 4px 8px;
        text-decoration: none;
        color: #fff;
        background-color: #0A2472;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }
    .button-row a {
        background-color: #fff;
        color: #0A2472;
        border: 1px solid #0A2472;
        padding: 5px 10px; 
        font-size: 12px; 
        border-radius: 4px;
    }
    .button-row a:hover,
    .button-row button:hover {
        background-color: #0d5dbb;
    }
    
    .button-row form {
        display: flex;
        justify-items: flex-start;
        align-items: center;
        gap: 5px;
    }
    
    .button-row input[type="text"] {
        padding: 4px;
        border: 1px solid #ccc;
        border-radius: 5px;
    }
    
    .button-row .reset-icon {
        background-color: #0A2472;
        border: none;
        cursor: pointer;
        color: #fff;
        padding: 1px 2px;
        font-size: 1px; 
        border-radius: 4px;
    }
    .button-row #search-button {
        padding: 6px 8px;
        font-size: 13px;
    }
    .button-row .reset-icon:hover {
        background-color: #0d5dbb;
    }
    .button-row .add-product-button {
        background-color: #0A2472; 
        color: #ffffff;
        padding: 6px 12px;
        border-radius: 5px;
        border: none;
        text-decoration: none;
        font-size: 13px;
        transition: background-color 0.3s ease, color 0.3s ease;
    }
    
    .add-product-button:hover {
        background-color: #0d5dbb; 
        color: #fff;
    }
    
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
        font-size: 14px;
        text-align: center;
    }
    
    table th,
    table td {
        padding: 10px;
        border: 1px solid #ddd;
    }
    
    table th {
        background-color: #0A2472 !important;
        color: #ffffff !important; 
        font-weight: bold;
    }
    
    table .sortable-column {
        cursor: pointer;
    }
    
    table .sortable-column .sort-icon {
        font-size: 12px;
        margin-left: 5px;
        visibility: hidden;
    }
    
    table .sortable-column:hover .sort-icon {
        visibility: visible;
    }
    
    table tr:nth-child(even) {
        background-color: #f2f2f2;
    }
    
    a {
        color: #ffffff;
        text-decoration: none !important;
    }
    
    a:hover {
        color: #ffffff;
    }
    
    table .low-quantity {
        color: red;
        font-weight: bold;
    }
    
    table th:nth-child(1), 
    table td:nth-child(1) {
        width: 50px; 
    }
    
    table th:nth-child(2),
    table td:nth-child(2) {
        width: 600px; 
    }
    
    table th:nth-child(3), 
    table td:nth-child(3) {
        width: 150px; 
    }
    
    table th:nth-child(4), 
    table td:nth-child(4) {
        width: 100px; 
    }
    
    table th:nth-child(5),
    table td:nth-child(5) {
        width: 100px; 
    }
    
    table th:nth-child(6), 
    table td:nth-child(6) {
        width: 100px; 
    }
    
    table th:nth-child(7), 
    table td:nth-child(7) {
        width: 100px; 
    }
    
    .pagination {
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 20px 0;
        gap: 5px;
    }
    
    .pagination a,
    .pagination span {
        padding: 8px 12px;
        text-decoration: none;
        color: #007bff;
        border: 1px solid #ddd;
        border-radius: 5px;
    }
    
    .pagination a:hover {
        background-color: #007bff;
        color: #fff;
        border-color: #007bff;
    }
    
    .pagination .current-page {
        background-color: #007bff;
        color: #fff;
        border-color: #007bff;
        pointer-events: none;
    }
    
    .product-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));;
    gap: 20px;
    padding: 20px;
    margin: 20px;
}

.product-item {
    border: 1px solid #ccc;
    border-radius: 8px;
    padding: 20px;
    background-color: #fff;
    text-align: center;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    min-height: 350px; 
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    transition: transform 0.3s ease;
}

.product-image-container {
    height: 250px; 
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    margin-bottom: 10px;
}

.product-image {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
}

.no-image-placeholder {
    font-size: 10px;
    color: #999;
}

.product-details {
    line-height: 1.0;
    padding-top: 2px; 
}

.product-details h3 {
  font-size: 20px;
  margin-bottom: 10px;
  color: #333333;
}

.product-details p {
  margin-bottom: 5px;
  color: #666666;
}

.product-item.low-qty {
    border-color: red;
    background-color: #ffe6e6;
    box-shadow: 0 4px 8px rgba(255, 0, 0, 0.2);
}
    .button-row a.active {
        background-color: #0A2472; 
        color: #fff;
        border: 2px solid #0A2472;
    }
    
    .product-list-table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
    }
    
    .product-list-table th, 
    .product-list-table td {
        text-align: left;
        padding: 10px;
        border: 1px solid #ddd;
        font-size: 16px; 
    }
    
    .product-list-table th {
        background-color: #f5f5f5;
        font-weight: bold;
    }
    
    .product-list-table td.qty-column.low-quantity {
        color: #ff0000; 
    }
    
    .total-stock-value {
        font-size: 18px;
        color: #333;
        margin-top: 15px;
    }
    
    #print-list-view{
        margin-right:50px;
        font-size: 13px;
        height: 31.5px;
    }
    
    
    @media print {
        .pagination {
            display: none !important;
        }
        .button-row, .app-bar .logo, .app-bar .dropdown, .app-bar #Backend, .app-bar #common-name{
            display: none;
        }
        .app-bar #sname{
            text-align: center;
            margin-left: 400px;
            font-size: 16px !important; 
            color: black !important ; 
        }
    }
    @media screen and (max-width: 1320px) {
        .button-row h1 {
        font-size: 25px;
    }
    }
    @media screen and (max-width: 1234px) {
        .app-bar {
            width: 100%;
            min-width: 1234px; 
        }
        .button-row h1 {
        font-size: 20px;
    }
}
    @media screen and (max-width: 1050px) {
        .app-bar {
            width: 100%;
            min-width: 1050px; 
        }
        .button-row {
            gap: 5px;
        }
        .button-row h1 {
        font-size: 23px;
        margin-left: 30px;
    }
        .button-row a,
        .button-row button {
            font-size: 10px;
            padding: 4px 8px;
        }
    
        .button-row input[type="text"] {
            font-size: 10px;
            padding: 5px;
        }
    
        .button-row .add-product-button {
            font-size: 10px;
            padding: 3px 5px;
        }
    
        .total-stock-value {
            font-size: 12px;
            margin-right: 10px;
        }
        #search, #reset-button{
            font-size: 8px;
        }
    }
    @media(max-width: 992px) {
        .button-row h1 {
        font-size: 22px;
        margin-left: 50px;
    }
        .product-list th{
    white-space: nowrap;
   }
.product-list{
    width: 100%;
    min-width: 500px;
    margin-left: 50px;
}
    }
    @media screen and (max-width: 885px) {
        .button-row {
            gap: 10px;
        }
    
        .button-row h1 {
            font-size: 20px;
            text-align: center;
            margin-left: 10px;
        }
    
        .button-row a,
        .button-row button {
            font-size: 10px;
            padding: 5px 10px;
        }
    
        .button-row input[type="text"] {
            font-size: 10px;
            padding: 15px;
        }
    
        .button-row .add-product-button {
            font-size: 10px;
            padding: 5px 10px;
        }
    
        .total-stock-value {
            font-size: 12px;
            margin-right: 10px;
        }
        #search, #reset-button{
            font-size: 8px;
        }
        table{
            text-align: center;
        }
    }
    
    @media screen and (max-width: 400px) {
        .button-row h1 {
            font-size: 16px;
            gap:10px;
        }
        table{
            text-align: center;
        }
        .app-bar {
            width: 100%;
            max-width: 400px; 
        }
    
        .button-row a,
        .button-row button {
            font-size: 10px;
            padding:  5px;
        }
        .button-row h1 {
            text-align: center;
        }
        #search, #reset-button{
            font-size: 8px;
        }
    
        .button-row input[type="text"] {
            font-size: 10px;
            padding: 5px;
        }
    
        .button-row .add-product-button {
            font-size: 10px;
            padding: 10px 20px;
        }
    
        .total-stock-value {
            font-size: 12px;
        }
    }
    
      </style>
  </head>  
  <body>
    <%- include('storeappbar.ejs') %>
    <div class="button-row">
      <a href="#" id="grid-view" class="active">Grid View</a>
      <a href="#" id="list-view" class="active">List View</a>
      <form id="search-form" action="" method="get" class="search-form">
        <input type="text" name="search" id="search" placeholder="Search by Product Name" value="<%= searchQuery || '' %>">
        <button type="button" id="reset-button" class="reset-icon">
          <span class="material-symbols-outlined">refresh</span>
        </button>
        <button type="submit" id="search-button">Search</button>
      </form>
      
      <h1>STORE STOCK VIEW</h1>
      <p class="total-stock-value"><b>Stock Value</b>: ₹<%= totalStockValue.toFixed(2) %></p>
      <a href="/addproduct/<%= storeId %>?name=<%= name %>&contactname=<%= contactname %>" class="add-product-button">Update Stock</a>

      <button onclick="printOrders()" id="print-list-view">Print</button>      
    </div>

    
  
    <div class="container">
      <br>
      <div class="product-grid" id="grid-container">
        <% if (products && products.length > 0) { %>
          <% products.forEach(function(product) { %>
            <div class="product-item <%= product.qty < 10 ? 'low-qty' : '' %>" data-product-id="<%= product.productid %>">
              <div class="product-image-container">
                <% let productImage = images.find(function(image) {
                    return image.productid === product.productid;
                }); %>
                <% if (productImage && productImage.imagepath) { %>
                  <img src="<%= productImage.imagepath %>" alt="<%= product.productname %>" class="product-image">
                <% } else { %>
                  <div class="no-image-placeholder">No Image</div>
                <% } %>
              </div>
              <div class="product-details">
                <h3><%= product.productname %></h3>
                <p class="productname">Category: <%= product.category %></p>
                <p>Code: <%= product.code %></p>
                <p>HSN: <%= product.hsn %></p>
                <p class="salesprice">Sales Price: ₹<%= product.salesprice %></p>
                <p class="qty <%= product.qty < 10 ? 'low-qty' : '' %>">Qty: <%= product.qty %></p>
              </div>
            </div>
          <% }); %>
        <% } else { %>
          <p>No products found.</p>
        <% } %>
      </div>
      

      <div class="product-list" id="list-container" style="display: none;">
        <% if (products && products.length > 0) { %>
          <table class="product-list-table">
            <thead>
              <tr>
                <th>S.No</th>
                <th class="sortable-column">
                  <a href="?storeId=<%= storeId %>&sortKey=productname&sortOrder=<%= sortOrder === 'asc' ? 'desc' : 'asc' %>&page=<%= currentPage %>">
                    Product Name 
                    <span class="sort-icon <%= sortKey === 'productname' ? (sortOrder === 'asc' ? 'ascending' : 'descending') : '' %>">
                      ▲
                    </span>
                  </a>
                </th>
                
                <th class="sortable-column" data-sort="category">
                  <a href="?storeId=<%= storeId %>&sortKey=category&sortOrder=<%= sortOrder === 'asc' ? 'desc' : 'asc' %>&page=<%= currentPage %>">
                    Category
                    <span class="sort-icon <%= sortKey === 'category' ? (sortOrder === 'asc' ? 'ascending' : 'descending') : '' %>">
                      ▲
                    </span>
                  </a>
                </th>
                
                <th>Code</th>
                <th>HSN</th>
                <th class="sortable-column" data-sort="salesprice">
                  <a href="?storeId=<%= storeId %>&sortKey=salesprice&sortOrder=<%= sortOrder === 'asc' ? 'desc' : 'asc' %>&page=<%= currentPage %>">
                    Sales Price 
                    <span class="sort-icon <%= sortKey === 'salesprice' ? (sortOrder === 'asc' ? 'ascending' : 'descending') : '' %>">
                      ▲
                    </span>
                  </a>
                </th>
                <th class="sortable-column" data-sort="qty">
                  <a href="?storeId=<%= storeId %>&sortKey=qty&sortOrder=<%= sortOrder === 'asc' ? 'desc' : 'asc' %>&page=<%= currentPage %>">
                    Quantity 
                    <span class="sort-icon <%= sortKey === 'qty' ? (sortOrder === 'asc' ? 'ascending' : 'descending') : '' %>">
                      ▲
                    </span>
                  </a>
                </th>
              </tr>
            </thead>            
            
            <tbody>
              <% products.forEach(function(product, index) { %>
                <tr data-product-id="<%= product.productid %>">
                  <td data-column="index"><%= (currentPage - 1) * itemsPerPage + index + 1 %></td>
                  <td data-column="productname"><%= product.productname %></td>
                  <td><%= product.category %></td>
                  <td><%= product.code %></td>
                  <td><%= product.hsn %></td>
                  <td data-column="salesprice" class="sales-price">₹<%= product.salesprice %></td>
                  <td data-column="qty" class="qty-column <%= product.qty < 10 ? 'low-quantity' : '' %>"><%= product.qty %></td>
                </tr>
              <% }); %>
            </tbody>
          </table>
        <% } else { %>
          <p>No products found.</p>
        <% } %>
      </div>

      <div class="pagination">
        <% if (totalPages > 0) { %>
            <% if (currentPage > 1) { %>
                <a href="?storeId=<%= storeId %>&sortKey=<%= sortKey %>&sortOrder=<%= sortOrder %>&page=<%= currentPage - 1 %>">&laquo; Previous</a>
            <% } %>
    
            <% if (currentPage > 3) { %>
                <a href="?storeId=<%= storeId %>&sortKey=<%= sortKey %>&sortOrder=<%= sortOrder %>&page=1">1</a>
                <% if (currentPage > 4) { %>
                    <span>...</span>
                <% } %>
            <% } %>
    
            <% for (let i = Math.max(1, currentPage - 2); i <= Math.min(totalPages, currentPage + 2); i++) { %>
                <% if (i === currentPage) { %>
                    <span class="current-page"><%= i %></span>
                <% } else { %>
                    <a href="?storeId=<%= storeId %>&sortKey=<%= sortKey %>&sortOrder=<%= sortOrder %>&page=<%= i %>"><%= i %></a>
                <% } %>
            <% } %>
    
            <% if (currentPage < totalPages - 2) { %>
                <% if (currentPage < totalPages - 3) { %>
                    <span>...</span>
                <% } %>
                <a href="?storeId=<%= storeId %>&sortKey=<%= sortKey %>&sortOrder=<%= sortOrder %>&page=<%= totalPages %>"><%= totalPages %></a>
            <% } %>
    
            <% if (currentPage < totalPages) { %>
                <a href="?storeId=<%= storeId %>&sortKey=<%= sortKey %>&sortOrder=<%= sortOrder %>&page=<%= currentPage + 1 %>">Next &raquo;</a>
            <% } %>
        <% } else { %>
            <p>No products found.</p>
        <% } %>
    </div>
    
    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.all.min.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
    const searchButton = document.getElementById('search-button');
    const resetButton = document.getElementById('reset-search');
    const searchBar = document.getElementById('search-bar');
    
 
    searchButton.addEventListener('click', function () {
        const query = searchBar.value.trim();
        if (query) {
            window.location.href = `/storedetails/<%= storeId %>?search=${encodeURIComponent(query)}&page=1`;
        }
    });

   
    resetButton.addEventListener('click', function () {
        searchBar.value = '';
        window.location.href = `/storedetails/<%= storeId %>?page=1`;  
    });
});
document.getElementById('reset-button').addEventListener('click', function() {
    document.getElementById('search').value = ''; 
    document.getElementById('search-form').submit(); 
});

document.querySelectorAll('.sortable-column').forEach(header => {
    header.addEventListener('click', function () {
        const sortKey = header.dataset.sort;
        const isAscending = !header.classList.contains('ascending');
        const sortOrder = isAscending ? 'asc' : 'desc';

        document.querySelectorAll('.sortable-column').forEach(h => h.classList.remove('ascending', 'descending'));
        header.classList.toggle('ascending', isAscending);
        header.classList.toggle('descending', !isAscending);
        
        sortProducts(sortKey, isAscending);
    });
});

  document.addEventListener('DOMContentLoaded', function () {
    const gridContainer = document.querySelector('#grid-container');
    const listContainer = document.querySelector('.product-list-table tbody');
    const listHeaders = document.querySelectorAll('.product-list-table .sortable-column');

    function sortProducts(sortKey, isAscending) {
    const allProducts = Array.from(document.querySelectorAll('.product-item')).map(item => {
        const listRow = document.querySelector(`tr[data-product-id="${item.dataset.productId}"]`);
        return {
            gridElement: item,
            listElement: listRow,
            sortValue: getSortValue(item, listRow, sortKey),
        };
    });

    allProducts.sort((a, b) => {
        if (typeof a.sortValue === 'number' && typeof b.sortValue === 'number') {
            return isAscending ? a.sortValue - b.sortValue : b.sortValue - a.sortValue;
        } else {
            return isAscending
                ? String(a.sortValue).localeCompare(String(b.sortValue))
                : String(b.sortValue).localeCompare(String(a.sortValue));
        }
    });

    const gridContainer = document.querySelector('#grid-container');
    gridContainer.innerHTML = '';  
    allProducts.forEach(product => gridContainer.appendChild(product.gridElement));

    const listContainer = document.querySelector('.product-list-table tbody');
    listContainer.innerHTML = '';
    allProducts.forEach(product => listContainer.appendChild(product.listElement));
    updatePagination();
}


function getSortValue(gridItem, listRow, sortKey) {
    if (sortKey === 'salesprice' || sortKey === 'qty') {
        const gridValue = parseFloat(gridItem.querySelector(`.${sortKey}`)?.textContent.replace(/[^\d.-]/g, '') || 0);
        const listValue = parseFloat(listRow.querySelector(`[data-column="${sortKey}"]`)?.textContent.replace(/[^\d.-]/g, '') || 0);
        return gridValue || listValue;
    } else if (sortKey === 'category') {
        const gridValue = gridItem.querySelector(`.productname`)?.textContent.split(': ')[1]?.trim() || '';
        const listValue = listRow.querySelector(`[data-column="${sortKey}"]`)?.textContent.trim() || '';
        return gridValue || listValue;
    } else {
        const gridValue = gridItem.querySelector(`.${sortKey}`)?.textContent.trim() || '';
        const listValue = listRow.querySelector(`[data-column="${sortKey}"]`)?.textContent.trim() || '';
        return gridValue || listValue;
    }
}


document.querySelectorAll('.sortable-column').forEach(header => {
    header.addEventListener('click', function() {
        const sortKey = header.dataset.sort;
        const isAscending = !header.classList.contains('ascending');
        const sortOrder = isAscending ? 'asc' : 'desc';
        
        document.querySelectorAll('.sortable-column').forEach(h => h.classList.remove('ascending', 'descending'));
        header.classList.toggle('ascending', isAscending);
        header.classList.toggle('descending', !isAscending);
        window.location.href = `?storeId=${storeId}&sortKey=${sortKey}&sortOrder=${sortOrder}&page=${currentPage}`;
    });
});


    $('#grid-view').click(function () {
        $('#grid-view').addClass('active');
        $('#list-view').removeClass('active');
        $('#grid-container').show();
        $('#list-container').hide();
        localStorage.setItem('view', 'grid');
    });

    $('#list-view').click(function () {
        $('#grid-view').removeClass('active');
        $('#list-view').addClass('active');
        $('#grid-container').hide();
        $('#list-container').show();
        localStorage.setItem('view', 'list');
    });

    $(document).ready(function () {
        var view = localStorage.getItem('view');
        if (view === 'grid') {
            $('#grid-view').trigger('click');
        } else {
            $('#list-view').trigger('click');
        }
    });
});

      function addProductToStore(productId) {
          const addProductURL = `/addproduct/${storeId}/${productId}`;
          $.ajax({
              type: 'POST',
              url: addProductURL,
              success: function(data) {
                  Swal.fire({
                      title: 'Product Added',
                      text: 'The product has been added to the store successfully.',
                      icon: 'success',
                  });
              },
              error: function(error) {
                  Swal.fire({
                      title: 'Error',
                      text: 'Failed to add the product to the store.',
                      icon: 'error',
                  });
              },
          });
      }
      $(document).on('click', '.add-to-store', function() {
          const productId = $(this).data('product-id');
          addProductToStore(productId);
      });  
      function deleteCookie(name) {
    document.cookie = name + '=; Max-Age=0; path=/; domain=' + window.location.hostname;
}
function confirmLogout() {
    Swal.fire({
      title: 'Logout Confirmation',
      text: 'Are you sure you want to logout?',
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Yes, Logout',
    }).then((result) => {
        if (result.isConfirmed) {
            deleteCookie('token');
            sessionStorage.clear(); 
            window.location.href = 'http://localhost:7777'; 
            history.replaceState(null, null, 'http://localhost:7777');
        } else {
            const errorMessage = 'Logout cancelled.';
            displayErrorDialog('Cancelled', errorMessage);
        }
    });
}
function displayErrorDialog(title, message) {
    Swal.fire({
        title: title,
        text: message,
        icon: 'error',
    });
}
      const personIcon = $('.person-icon');
      const dropdownMenu = $('.dropdown-menu');
      personIcon.on('click', () => {
          dropdownMenu.toggleClass('show');
      });
      $(document).on('click', (event) => {
          if (!$(event.target).closest('.dropdown').length) {
              if (dropdownMenu.hasClass('show')) {
                  dropdownMenu.removeClass('show');
              }
          }
      });
      document.getElementById('userdetails-button').addEventListener('click', function() {
          window.location.href = '/userdetails?storeId=<%= storeId %>';
      });

function updatePagination() {
    const totalItems = products.length; 
    const itemsPerPage = 10;
    const totalPages = Math.ceil(totalItems / itemsPerPage);
    
    const paginationContainer = document.querySelector('.pagination');
    paginationContainer.innerHTML = '';
    
    for (let page = 1; page <= totalPages; page++) {
        const pageLink = document.createElement('a');
        pageLink.href = `/storedetails/<%= storeId %>?page=${page}`;
        pageLink.textContent = page;
        paginationContainer.appendChild(pageLink);
    }
}

function printOrders() {
      window.print();
    }
  </script>
</body>
</html>